function charSelect(){var e=$(this).attr("src");console.log(e),player.sprite=e}function scoreReset(){curScore=0,$("#score").text(parseInt(0))}function myTimer(){player.x>=0&&player.x<=404&&player.y>=83&&player.y<=249?(curScore+=10,$("#score").text(curScore),curScore>highScore&&(highScore=curScore,$("#highScore").text(curScore),hasLocalStorage()&&saveScore(curScore))):scoreReset()}function hasLocalStorage(){return"undefined"!=typeof Storage?("undefined"==typeof localStorage.score&&(localStorage.score=0),!0):void 0}function saveScore(e){e>localStorage.score&&(localStorage.score=e)}var Enemy=function(){this.sprite="/assets/dist/img/frogger/enemy-bug.png",this.x=0,this.y=0,this.speed=Math.floor(100*Math.random())+100};Enemy.prototype.update=function(e){this.x+=this.speed*e,this.x>600&&this.reset()},Enemy.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)},Enemy.prototype.reset=function(){this.x=-50,this.y=83*Math.floor(3*Math.random())+60};for(var allEnemies=[],i=0;4>i;i++)e=new Enemy,e.x=450*Math.random(),e.y=83*Math.floor(3*Math.random())+60,allEnemies.push(e);var Player=function(){this.sprite="/assets/dist/img/frogger/char-cat-girl.png",this.x=202,this.y=332};Player.prototype.update=function(e){this.y<83&&this.reset()},Player.prototype.reset=function(){var e=[0,101,202,303,404],r=Math.floor(5*Math.random());this.x=e[r],this.y=332},Player.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)},Player.prototype.handleInput=function(e){"left"==e?player.x>=101&&(player.x-=101):"up"==e?player.y>=83&&(player.y-=83):"right"==e?player.x<=303&&(player.x+=101):"down"==e&&player.y<=332&&(player.y+=83)};var player=new Player;$(".up_arrow_btn").click(function(){player.handleInput("up")}),$(".left_arrow_btn").click(function(){player.handleInput("left")}),$(".down_arrow_btn").click(function(){player.handleInput("down")}),$(".right_arrow_btn").click(function(){player.handleInput("right")}),$(".char").on("click",charSelect),hasLocalStorage(),$("#highScore").html(localStorage.score);var highScore=parseInt($("#highScore").text()),curScore=parseInt($("#score").text());setInterval(function(){myTimer()},1e3),document.addEventListener("keyup",function(e){var r={37:"left",38:"up",39:"right",40:"down"};player.handleInput(r[e.keyCode])});